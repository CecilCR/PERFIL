<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil de Autoconocimiento - Gestión de las Relaciones</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Work+Sans:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #1a4d2e; --accent: #ffd700; --bg: #faf8f3; --text: #2b2b2b; }
        body { font-family: 'Work Sans', sans-serif; background: var(--bg); color: var(--text); margin: 0; padding-bottom: 50px; }
        .header { background: var(--primary); color: white; padding: 2.5rem; text-align: center; border-bottom: 5px solid var(--accent); }
        .container { max-width: 850px; margin: 2rem auto; padding: 0 1.5rem; }
        
        .tabs { display: flex; gap: 8px; margin-bottom: 20px; flex-wrap: wrap; }
        .tab { flex: 1; padding: 12px; background: #eee; border: none; border-radius: 10px; cursor: pointer; text-align: center; font-weight: 600; transition: 0.3s; min-width: 150px; }
        .tab.active { background: var(--primary); color: white; }

        .tab-content { display: none; background: white; padding: 2rem; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .tab-content.active { display: block; }

        .question { border-bottom: 1px solid #eee; padding: 25px 0; }
        .options-container { display: flex; justify-content: space-between; margin-top: 15px; gap: 8px; }
        .opt-btn { flex: 1; padding: 12px; border: 2px solid #ddd; background: white; border-radius: 8px; cursor: pointer; transition: 0.2s; font-weight: bold; font-size: 1rem; }
        .opt-btn:hover { border-color: var(--primary); }
        .opt-btn.selected { background: var(--primary); color: white; border-color: var(--primary); }
        
        .scale-labels { display: flex; justify-content: space-between; font-size: 0.75rem; color: #777; margin-top: 8px; font-weight: 600; text-transform: uppercase; }

        .btn-submit { background: var(--primary); color: white; border: none; padding: 1.5rem; border-radius: 12px; cursor: pointer; width: 100%; font-size: 1.2rem; font-weight: bold; margin-top: 30px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        
        .results-card { display: none; margin-top: 2rem; background: white; padding: 2.5rem; border-radius: 20px; border-top: 10px solid var(--primary); box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .feedback-item { margin-bottom: 30px; padding: 20px; border-radius: 12px; background: #fdfdfd; border-left: 5px solid var(--primary); }
        .feedback-item h3 { color: var(--primary); margin-top: 0; font-family: 'Playfair Display', serif; }
        .sub-score { background: #f0f4f1; padding: 10px; border-radius: 5px; font-weight: 600; display: inline-block; margin-bottom: 10px; }
    </style>
</head>
<body>

<div class="header">
    <h1>Perfil de Autoconocimiento</h1>
    <p>Basado en Whetten & Cameron (2014)</p>
</div>

<div class="container">
    <div class="tabs">
        <button class="tab active" onclick="switchTab(0)">Estilo Cognoscitivo</button>
        <button class="tab" onclick="switchTab(1)">Locus de Control</button>
        <button class="tab" onclick="switchTab(2)">Ambigüedad</button>
    </div>

    <form id="quizForm">
        <div class="tab-content active" id="tab0"><div id="cogBox"></div></div>
        <div class="tab-content" id="tab1"><div id="locBox"></div></div>
        <div class="tab-content" id="tab2"><div id="ambBox"></div></div>
        <button type="button" class="btn-submit" onclick="processResults()">Generar Diagnóstico Profesional</button>
    </form>

    <div id="results" class="results-card">
        <h2 style="text-align:center; font-family: 'Playfair Display', serif;">Informe de Perfil Individual</h2>
        <div id="resOutput"></div>
        <button class="btn-submit" style="background:#444" onclick="window.print()">Imprimir o Guardar Reporte</button>
    </div>
</div>

<script>
    // PREGUNTAS ORIGINALES DE WHETTEN
    const cogQs = ["Para mí es muy importante la elaboración de un plan claro.", "Me gusta contribuir a soluciones innovadoras.", "Siempre me gusta saber qué se debe hacer y cuándo.", "Prefiero buscar soluciones creativas.", "Me gusta entender plenamente un problema.", "Me gustan los planes de acción detallados.", "Me siento motivado por la innovación continua.", "Me gusta analizar los problemas.", "Prefiero contar con una estructura clara para hacer mi trabajo.", "Me gusta tener una gran variedad en mi vida.", "Realizo análisis detallados.", "Prefiero las reuniones bien planeadas y con una agenda clara.", "Me atraen más las ideas nuevas que las soluciones ya existentes.", "Estudio cada problema hasta entender la lógica subyacente.", "Tomo decisiones definitivas y hago seguimientos meticulosos.", "Me gusta extender los límites.", "Una buena tarea es una tarea bien preparada.", "Trato de evitar la rutina."];
    const locQs = [{a:"Los líderes nacen.", b:"Los líderes se hacen."}, {a:"El éxito es suerte.", b:"El éxito es trabajo duro."}, {a:"Mis errores.", b:"Calamidades inevitables."}, {a:"Líderes causan guerras.", b:"Guerras inevitables."}, {a:"Buenos padres.", b:"Niños malos inevitablemente."}, {a:"Futuro depende de circunstancias.", b:"Dueño de mi destino."}, {a:"Historia y suerte.", b:"Acciones decisivas."}, {a:"Castigo criminal.", b:"No disciplina física."}, {a:"Poca influencia.", b:"Suerte crucial."}, {a:"Clientes insatisfechos.", b:"Satisfacer es posible."}, {a:"Esfuerzo escolar.", b:"Niños que no destacan."}, {a:"Compatibilidad.", b:"Trabajar matrimonio."}, {a:"Mejorar con clase.", b:"Pérdida tiempo."}, {a:"Más cursos gestión.", b:"Menos énfasis."}, {a:"Mérito propio.", b:"Causas externas."}, {a:"Examen injusto.", b:"Estudiar rinde."}, {a:"Horóscopo.", b:"Yo determino."}, {a:"Gobierno intocable.", b:"Influencia ciudadana."}, {a:"Responsabilidad.", b:"Poco trabajo."}, {a:"Carisma nato.", b:"Conducta admirada."}, {a:"Fuera de control.", b:"Responsable logros."}, {a:"Habilidad directiva.", b:"Suerte y momento."}, {a:"Suerte deportiva.", b:"Habilidad técnica."}, {a:"Capacitación equipo.", b:"Esfuerzo individual."}, {a:"Perezosos.", b:"Motivables."}, {a:"Acción responsable.", b:"Economía externa."}, {a:"Persuasivo.", b:"Convencer sin razón."}, {a:"Planear metas.", b:"Sale bien igual."}, {a:"Destinado.", b:"Trabajo duro"}];
    const ambQs = ["Experto sin respuesta definitiva.", "Me gustaría vivir en el extranjero.", "No existe problema sin solución.", "Horarios pierden alegría.", "Buen trabajo es claro.", "Problema complicado es divertido.", "Problemas sencillos rinden más.", "Personas interesantes.", "Familiar es preferible.", "Respuesta sí o no.", "Vida estable.", "Información insuficiente.", "Fiestas con conocidos.", "Tareas ambiguas e iniciativa.", "Valores similares.", "Maestro que hace pensar."];

    function init() {
        const cogBox = document.getElementById('cogBox');
        cogQs.forEach((q, i) => {
            cogBox.innerHTML += `<div class="question"><p><strong>${i+1}.</strong> ${q}</p>
                <div class="options-container" id="cog_row_${i+1}">
                    ${[1,2,3,4,5].map(v => `<button type="button" class="opt-btn" onclick="setVal('cog', ${i+1}, ${v})">${v}</button>`).join('')}
                </div>
                <div class="scale-labels"><span>Totalmente en desacuerdo</span><span>Totalmente de acuerdo</span></div></div>`;
        });

        const locBox = document.getElementById('locBox');
        locQs.forEach((q, i) => {
            locBox.innerHTML += `<div class="question"><p><strong>${i+1}.</strong> Seleccione:</p>
                <div class="options-container">
                    <button type="button" class="opt-btn" id="loc_${i+1}_a" onclick="setRadio(${i+1}, 'a')">a) ${q.a}</button>
                    <button type="button" class="opt-btn" id="loc_${i+1}_b" onclick="setRadio(${i+1}, 'b')">b) ${q.b}</button>
                </div></div>`;
        });

        const ambBox = document.getElementById('ambBox');
        ambQs.forEach((q, i) => {
            ambBox.innerHTML += `<div class="question"><p><strong>${i+1}.</strong> ${q}</p>
                <div class="options-container" id="amb_row_${i+1}">
                    ${[1,2,3,4,5,6,7].map(v => `<button type="button" class="opt-btn" onclick="setVal('amb', ${i+1}, ${v})">${v}</button>`).join('')}
                </div>
                <div class="scale-labels"><span>Desacuerdo</span><span>Acuerdo</span></div></div>`;
        });
    }

    let vals = { cog: {}, loc: {}, amb: {} };

    function setVal(type, id, v) {
        vals[type][id] = v;
        const btns = document.getElementById(`${type}_row_${id}`).querySelectorAll('.opt-btn');
        btns.forEach(b => b.classList.toggle('selected', parseInt(b.innerText) === v));
    }

    function setRadio(id, val) {
        vals.loc[id] = val;
        document.getElementById(`loc_${id}_a`).classList.toggle('selected', val === 'a');
        document.getElementById(`loc_${id}_b`).classList.toggle('selected', val === 'b');
    }

    function processResults() {
        const getC = (i) => vals.cog[i] || 3;
        const sConoc = (getC(5)+getC(8)+getC(11)+getC(14))/4;
        const sPlan = (getC(1)+getC(3)+getC(6)+getC(9)+getC(12)+getC(15)+getC(17))/7;
        const sCreat = (getC(2)+getC(4)+getC(7)+getC(10)+getC(13)+getC(16)+getC(18))/7;

        let locScore = 0;
        const extKeys = ["2a","3b","4b","5b","6a","7a","9a","10a","11b","12b","13b","15b","16a","17a","18a","20a","21a","22b","23a","25a","26b","28b","29a"];
        extKeys.forEach(k => { if(vals.loc[k.slice(0,-1)] === k.slice(-1)) locScore++; });

        let ambTotal = 0;
        for(let i=1; i<=16; i++) { let v = vals.amb[i] || 4; if(i%2===0) v = 8-v; ambTotal += v; }

        document.getElementById('results').style.display = 'block';
        document.getElementById('resOutput').innerHTML = `
            <div class="feedback-item">
                <h3>Estilo Cognoscitivo</h3>
                <div class="sub-score">Conocimiento: ${sConoc.toFixed(1)} | Planeación: ${sPlan.toFixed(1)} | Creativo: ${sCreat.toFixed(1)}</div>
                <p>El estilo cognoscitivo se refiere a tu inclinación para percibir e interpretar información. No es personalidad, sino una tendencia de aprendizaje que puedes modificar.</p>
                <p><b>Interpretación:</b><br>
                - <b>Conocimiento:</b> Valoras hechos, datos y soluciones claras basadas en la lógica.<br>
                - <b>Planeación:</b> Prefieres estructura, preparación y métodos sistemáticos.<br>
                - <b>Creativo:</b> Te sientes cómodo en la incertidumbre, buscas novedad y experimentación.</p>
            </div>
            <div class="feedback-item">
                <h3>Locus de Control: ${locScore} pts</h3>
                <div class="sub-score">Orientación: ${locScore <= 11 ? 'Interna' : 'Externa'}</div>
                <p>Se refiere a qué tanto sientes que controlas tu destino. Un <b>Locus Interno</b> (puntaje bajo) indica que ves los resultados como fruto de tus acciones. Un <b>Locus Externo</b> (puntaje alto) indica que atribuyes los eventos a fuerzas externas como la suerte o el destino.</p>
            </div>
            <div class="feedback-item">
                <h3>Tolerancia a la Ambigüedad: ${ambTotal} pts</h3>
                <div class="sub-score">Perfil: ${ambTotal > 48 ? 'Alta Complejidad' : 'Necesidad de Estructura'}</div>
                <p>Es el grado en que te sientes cómodo ante cambios imprevistos o información incompleta. Los individuos con alta tolerancia (puntaje alto) suelen ser más adaptables y flexibles en entornos complejos, aunque pueden distraerse con mayor facilidad.</p>
                <p><b>Subescalas:</b> Novedad (situaciones desconocidas), Complejidad (información múltiple) e Insolubilidad (problemas difíciles de resolver).</p>
            </div>
        `;
        window.scrollTo(0, document.body.scrollHeight);
    }

    function switchTab(n) {
        document.querySelectorAll('.tab').forEach((t, i) => t.classList.toggle('active', i === n));
        document.querySelectorAll('.tab-content').forEach((c, i) => c.classList.toggle('active', i === n));
    }
    init();
</script>
</body>
</html>
